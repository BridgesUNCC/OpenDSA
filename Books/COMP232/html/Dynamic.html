
<!DOCTYPE html>




<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>13.2. Dynamic Storage Allocation &mdash; COMP232: Data Structures and Algorithms</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/normalize.css" type="text/css" />
    <link rel="stylesheet" href="../../../JSAV/css/JSAV.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/odsaMOD-min.css" type="text/css" />
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css" type="text/css" />
    <link rel="stylesheet" href="../../../lib/odsaStyle-min.css" type="text/css" />
    
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT:    './',
      VERSION:     '0.4.1',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE:  true
    };
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
      },
      "HTML-CSS": {
        scale: "80"
      }
    });
  </script>
    <link rel="index" title="COMP232: Data Structures and Algorithms" href="index.html" />
    <link rel="next" title="3. Sequential-Fit Methods" href="SequentialFit.html" />
    <link rel="prev" title="1. Chapter Introduction: Memory Management" href="MemmanIntro.html" />

  </head>

  <body>


      <div class="header">
        
  
      <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
      <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../../../JSAV/lib/jquery.transit.js"></script>
    <script type="text/javascript" src="../../../JSAV/lib/raphael.js"></script>
    <script type="text/javascript" src="../../../JSAV/build/JSAV-min.js"></script>
    <script type="text/javascript" src="_static/config.js"></script>
    <script type="text/javascript" src="../../../lib/odsaUtils-min.js"></script>
    <script type="text/javascript" src="../../../lib/odsaMOD-min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
    <script type="text/javascript" src="../../../lib/dataStructures.js"></script>
    <script type="text/javascript" src="../../../lib/conceptMap.js"></script>

        
<a id="username-link" style="float:right;color:red;margin:10px 20px auto; display: none" class="username-link" href="Gradebook.html"></a>
<a id="login-link" style="float:right;color:red;margin:10px 20px auto" class="login-link" href="#"><Macro 'login'></a>
<div id="login-box" class="login-popup">
  <a href="#" class="close"><img src="_static/Images/close_pop.png" class="btn_close" title="Close Window" alt="Close" /></a>
  <form method="post" class="signin" action="https://#">
    <fieldset class="textbox">
      <label class="username">
        <span>Username</span>
        <input id="username" value="" type="text" autocomplete="on" placeholder="Username" tabindex="1">
      </label>
      <label class="password">
        <span>Password</span>
        <input id="password" value="" type="password" placeholder="Password" tabindex="2">
        <span><a id="forgot" href="#">Forgot your password?</a></span>
      </label>

      <p>
        <input type="submit" id="login-submit-button" value="Sign in" tabindex="3" />
      </p>
      <p>
        <input type="button" id="register-button" value="Register" tabindex="4" />
      </p>
    </fieldset>
  </form>
</div>

        
<a id="registration-link" style="float:right;color:red;margin:10px 20px auto" class="registration-link" href="#">Register</a>
<div id="registration-box" class="registration-popup ">
  <a href="#" class="close"><img src="_static/Images/close_pop.png" class="btn_close" title="Close Window" alt="Close Window" /></a>
  <form method="post" class="signin" action="https://#">
    <fieldset class="textbox">
      <div id="register_error" class="error"></div>
      <label class="username">
        <span>Username:</span>
        <input type="text" id="user" placeholder="Username" />
      </label>

      <label class="password">
        <span>Password</span>
        <input id="pass" type="password" placeholder="Password" />
      </label>

      <label class="password">
        <span>Confirm Password</span>
        <input id="rpass" type="password" placeholder="Confirm Password" />
      </label>

      <label class="email">
        <span>Email:</span>
        <input type="text" id="email" placeholder="Email">
      </label>

      <p>
        <input type="submit" id="register-submit-button" value="Register &rarr;"/>
      </p>
    </fieldset>
  </form>
</div>
<img class="leftlogo" src="_static/OpenDSALogoT64.png" alt="Logo"/><div class="title-wrapper">
          <div class="title-inbetween" style="display: table-cell; vertical-align: middle;">
            <div class="title-content">
              <h1 class="heading" ><a href="index.html">
                <span>COMP232: Data Structures and Algorithms</span></a></h1>
              <h2 class="heading" ><span>Chapter 13 Memory Management</span></h2>
            </div>
          </div>
        </div>
      </div>
      <div class="topnav">
        <p>
            <a style="float:left;color:blue;" href="../source/Dynamic.rst"
              target="_blank" rel="nofollow">Show Source | </a>&#160;&#160;
            <a class="abt" style="float:left;color:blue;" href="#" rel="nofollow">| About</a>&#160;&#160;

          
        «&#160;&#160;<a id="prevmod" href="MemmanIntro.html">13.1. Chapter Introduction: Memory Management</a>
        &#160;&#160;::&#160;&#160;
        <a  class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a  id="nextmod" href="SequentialFit.html">13.3. Sequential-Fit Methods</a>&#160;&#160;»


        </p>
      </div>
       
      <div class="content">
        
  <script>ODSA.SETTINGS.DISP_MOD_COMP = true;ODSA.SETTINGS.MODULE_NAME = "Dynamic";ODSA.SETTINGS.MODULE_LONG_NAME = "Dynamic Memory Allocation";ODSA.SETTINGS.MODULE_CHAPTER = "Memory Management"; ODSA.SETTINGS.BUILD_DATE = "2017-11-27 23:03:58"; ODSA.SETTINGS.BUILD_CMAP = false;JSAV_OPTIONS['lang']='en';JSAV_EXERCISE_OPTIONS['code']='java_generic';</script><link href="../../../AV/MemManage/dynamicCON.css" rel="stylesheet" type="text/css" />
<div class="section" id="dynamic-storage-allocation">
<h1>13.2. Dynamic Storage Allocation<a class="headerlink" href="#dynamic-storage-allocation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>13.2.1. Dynamic Storage Allocation<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>For the purpose of dynamic storage allocation, we view memory as a
single array broken into a series of variable-size blocks, where
some of the blocks are <a class="reference internal" href="Glossary.html#term-free-block"><em class="xref std std-term ODSAterm">free blocks</em></a> and some are
<a class="reference internal" href="Glossary.html#term-reserved-block"><em class="xref std std-term ODSAterm">reserved blocks</em></a> or already allocated.
The free blocks are linked together to form a <a class="reference internal" href="Glossary.html#term-freelist"><em class="xref std std-term ODSAterm">freelist</em></a> used
for servicing future <a class="reference internal" href="Glossary.html#term-memory-request"><em class="xref std std-term ODSAterm">memory requests</em></a>.
This figure illustrates the situation that can arise after
a series of memory allocations and deallocations.</p>
<div class="divdgm" id="memmode">
<div id="freeblocklistCON">
</div>
<p class="caption" style="text-align: justify"> Figure 13.2.1: The results from a series of memory allocations and
deallocations.
Memory is made up of a series of variable-size blocks, some allocated
and some free.
In this example, shaded areas represent memory currently allocated
and unshaded areas represent unused memory available for future
allocation.</p>
</div>
<p>When a memory request is received by the memory manager, some block
on the freelist must be found that is large enough to service the
request.
If no such block is found, then the memory manager must resort to a
<a class="reference internal" href="Garbage.html#garbage"><em>failure policy</em></a> such as
<a class="reference internal" href="Glossary.html#term-garbage-collection"><em class="xref std std-term ODSAterm">garbage collection</em></a>.</p>
<p>If there is a request for <span class="math">\(m\)</span> words, and no block exists of
exactly size <span class="math">\(m\)</span>, then a larger block must be used instead.
One possibility in this case is that the entire block is given away
to the memory allocation request.
This might be desirable when the size of the block is only slightly
larger than the request.
This is because saving a tiny block that is too small to be useful for
a future memory request might not be worthwhile.
Alternatively, for a free block of size <span class="math">\(k\)</span>,
with <span class="math">\(k &gt; m\)</span>, up to <span class="math">\(k - m\)</span> space may be
retained by the memory manager to form a new free
block, while the rest is used to service the request.</p>
<p>Memory managers can suffer from two types of fragmentation.
<a class="reference internal" href="Glossary.html#term-external-fragmentation"><em class="xref std std-term ODSAterm">External fragmentation</em></a>
occurs when a series of memory requests result in lots of small free
blocks, no one of which is useful for servicing typical requests.
<a class="reference internal" href="Glossary.html#term-internal-fragmentation"><em class="xref std std-term ODSAterm">Internal fragmentation</em></a> occurs when more than <span class="math">\(m\)</span> words
are allocated to a request for <span class="math">\(m\)</span> words, wasting free storage.
The difference between internal and external fragmentation is
illustrated by this figure.
The small white block labeled &quot;External fragmentation&quot; is too small
to satisfy typical memory requests.
The small grey block labeled &quot;Internal fragmentation&quot; was allocated as
part of the grey block to its left, but it does not actually store
information.</p>
<div class="divdgm" id="compfrag">
<div id="fragCON">
</div>
<p class="caption" style="text-align: center"> Figure 13.2.2: An illustration of internal and external fragmentation.</p>
</div>
<p>Some memory management schemes sacrifice space to internal
fragmentation to make memory management easier (and perhaps reduce
external fragmentation).
For example, external fragmentation does not happen in file management
systems that allocate file space in clusters.
Another example of sacrificing space to internal fragmentation so as
to simplify memory management is the <a class="reference internal" href="Glossary.html#term-buddy-method"><em class="xref std std-term ODSAterm">buddy method</em></a>
described later in this chapter.</p>
<p>The process of searching the <a class="reference internal" href="Glossary.html#term-memory-pool"><em class="xref std std-term ODSAterm">memory pool</em></a> for a block large
enough to service the request, possibly reserving the remaining space
as a free block, is referred to as a <a class="reference internal" href="Glossary.html#term-sequential-fit"><em class="xref std std-term ODSAterm">sequential fit</em></a> method.</p>
<script type="text/javascript" src="../../../AV/MemManage/freeblocklistCON.js"></script>
<script type="text/javascript" src="../../../AV/MemManage/fragCON.js"></script>
</div>
</div>


      </div>
      <div class="bottomnav">
      <p><span class="email_div" style="display:inline;"><a id="contact_us" class="contact" style="float:left;color:blue;" rel="nofollow" href="mailto:">Contact Us |</a><a style="float:left;color:blue;" rel="nofollow" href="../../../lib/Privacy.html" target="_blank">| Privacy |</a> <a style="float:left;color:blue;" rel="nofollow" href="../../../lib/license.html" target="_blank">| License</a></span>&#160;&#160;
      
        «&#160;&#160;<a id="prevmod1" href="MemmanIntro.html">13.1. Chapter Introduction: Memory Management</a>
        &#160;&#160;::&#160;&#160;
        <a  class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a  id="nextmod1" href="SequentialFit.html">13.3. Sequential-Fit Methods</a>&#160;&#160;»

</p>
      </div>
      <img style="float:right;" src="_static/nsf1.gif" height="62" width="62" alt="nsf"/>


    <div class="footer">
      <p>
        <span class="email_div" style="display:inline;">
          <a id="contact_us" class="contact" style="float:left;color:blue;" rel="nofollow" href="mailto:">Contact Us |</a>
          <a id="bugreport-link" style="float:left;color:blue;" class="bugreport-link" href="#">| Report a bug</a>
        </span>
      </p>
        &copy; Copyright 2016 by OpenDSA Project Contributors and distributed under an MIT license.
      Last updated on Nov 27, 2017.
      Created using <a target="_blank" href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.
    </div>
    
<div id="bugreport-box" class="bugreport-popup ">
  <a href="#" class="close"><img src="_static/Images/close_pop.png" class="btn_close" title="Close Window" alt="Close Window" /></a>
  <form method="post" class="report" action="https://#">
    <fieldset class="textbox">
      <div id="bug_error" class="error"></div>
      <label>
        <span>Summary*:</span>
        <input type="text" id="b_title" placeholder="Summary" />
      </label>

      <label class="os">
        <span>Operating system*:</span>
        <select id="b_os">
          <option value="windows">Windows</option>
          <option value="macos">Mac OS</option>
          <option value="linux">Linux</option>
          <option value="ios">iOS</option>
          <option value="android">Android</option>
          <option value="other">Other</option>
        </select>
      </label>

      <label class="browser">
        <span>Browser*:</span>
        <select id="b_browser">
          <option value="chrome">Chrome</option>
          <option value="safari">Safari</option>
          <option value="internetexplorer">Internet Explorer</option>
          <option value="opera">Opera</option>
          <option value="other">Other</option>
        </select>
      </label>

      <label class="description">
        <span>Description*:</span><br>
        <textarea id="b_description" rows="5" cols="25" placeholder="***BUG** Please enter: (1) a consice description of the problem. (2) steps to reproduce bug. (3) the version of your browser and operating system."></textarea>
      </label>

      <label class="screenshot">
        <span>Attach a screenshot (optional):</span>
        <input type="file" id="b_screenshot" accept="image/*" placeholder="Attach a screenshot (optional)">
      </label>

      <p>
        <input type="submit" id="bug-submit-button" value="Submit &rarr;"/>
      </p>
    </fieldset>
  </form>
</div>

  </body>
</html>